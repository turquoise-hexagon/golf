s=$*;for((;i<${#s};i++)){ c=1;n=0;o=${s:i:1};case $o in
\>)((t++));;\<)((t--));;+|-)((d[t]$o$o));;.)printf \\x`printf %x ${d[t]}`;;[)n=1;;])n=-1;esac
((n*((n<1)-!d[t])))&&for((;c;i+=n)){ v=${s:i+n:1};[ $v = ] ]&&((c-=n));[ $v = [ ]&&((c+=n));};}